# 智能送货小车



## 主机	⇋	K210	⇋	机械臂

*（保留位统一：0x00）*

## 通信协议：

|     0     |      1       |      2       |  3   |  4   |  5   |
| :-------: | :----------: | :----------: | :--: | :--: | :--: |
| 0x7B 帧头 | 发送设备地址 | 接收设备地址 | DATA | DATA | DATA |



|  6   |  7   |  8   |     9     |    10     |
| :--: | :--: | :--: | :-------: | :-------: |
| DATA | DATA | DATA | BBC校验位 | 0x7D 帧尾 |



## (1)对于机械臂：



### 机械臂 ---> K210

|  0   |  1   |  2   |           3            |           4            |           5            |
| :--: | :--: | :--: | :--------------------: | :--------------------: | :--------------------: |
| 0x7B | 0x02 | 0x01 | FLAG(是否完成一次抓取) | FLAG(是否完成一次放置) | FLAG(是否完成一次挂上) |



|   6    |   7    |   8    |     9     |  10  |
| :----: | :----: | :----: | :-------: | :--: |
| 保留位 | 保留位 | 保留位 | BBC校验位 | 0x7D |



### 机械臂 ---> 主机（预留，不用）

|  0   |  1   |  2   |         3          |   4    |   5    |
| :--: | :--: | :--: | :----------------: | :----: | :----: |
| 0x7B | 0x02 | 0x00 | FLAG(是否完成抓取) | 保留位 | 保留位 |



|   6    |   7    |   8    |     9     |  10  |
| :----: | :----: | :----: | :-------: | :--: |
| 保留位 | 保留位 | 保留位 | BBC校验位 | 0x7D |



### 主机 ---> 机械臂（预留，不用）

|  0   |  1   |  2   |            3             |   4    |   5    |
| :--: | :--: | :--: | :----------------------: | :----: | :----: |
| 0x7B | 0x00 | 0x02 | FLAG(是否到达要开始抓取) | 保留位 | 保留位 |



|   6    |   7    |   8    |     9     |  10  |
| :----: | :----: | :----: | :-------: | :--: |
| 保留位 | 保留位 | 保留位 | BBC校验位 | 0x7D |



## (2)对于K210：

### K210 ---> 主机

|  0   |  1   |  2   |              3               |   4    |     5      |
| :--: | :--: | :--: | :--------------------------: | :----: | :--------: |
| 0x7B | 0x01 | 0x00 | FLAG(是否完成当前位置点任务) | 保留位 | 二维码DATA |



|     6      |     7      |                8                |     9     |  10  |
| :--------: | :--------: | :-----------------------------: | :-------: | :--: |
| 二维码DATA | 二维码DATA | 位置代号3中下一次应该前往的颜色 | BBC校验位 | 0x7D |



### 主机 ---> K210

|  0   |  1   |  2   |           3            |        4        |   5    |
| :--: | :--: | :--: | :--------------------: | :-------------: | :----: |
| 0x7B | 0x00 | 0x01 | FLAG(是否到达固定位置) | 位置代号（1~4） | 保留位 |



|   6    |   7    |   8    |     9     |  10  |
| :----: | :----: | :----: | :-------: | :--: |
| 保留位 | 保留位 | 保留位 | BBC校验位 | 0x7D |



###  K210 ---> 机械臂

|  0   |  1   |  2   |             3             |           4            |           5            |
| :--: | :--: | :--: | :-----------------------: | :--------------------: | :--------------------: |
| 0x7B | 0x01 | 0x02 | FLAG(是否要进行一次抓取） | FLAG(是否进行一次放置) | FLAG(是否进行一次挂上) |



|   6    |   7    |   8    |     9     |  10  |
| :----: | :----: | :----: | :-------: | :--: |
| 保留位 | 保留位 | 保留位 | BBC校验位 | 0x7D |

